<!--TRANSITION WITH REASON DIALOG -->
<pl-chat-new-chat
        *ngIf="isNewChatDialogShown()"
        (create)="dialogConfirmed($event)"
        (cancel)="dialogCanceled()"
        [data]="newChatDialogData">

</pl-chat-new-chat>


<div class="peek-nav-section">
    <!--
        The following 'div' groups button to the left of the Nav Bar.
        Can contain one to many buttons
    -->
    <div class="btn-group pull-left"
         *ngIf="!isNewChatDialogShown()"
         role="group">
        <button class="btn"
                role="group"
                (click)="newChatClicked()">
            New Chat
        </button>
    </div>
</div>

<div class="plugin-chat-list">
    <!-- Use the template tag syntax, as this works with nativescript too -->
    <ng-template ngFor let-chat [ngForOf]="chats" let-i="index">
        <div class="messages" (click)="chatClicked(chat)">

            <!-- Unread indicator -->
            <fa class="icon" name="fw" *ngIf="isChatRead(chat)"></fa>
            <fa class="icon" name="comment-o" *ngIf="!isChatRead(chat)"></fa>

            <!-- Other Users -->
            <div class="title" *ngFor="let user of otherChatUsers(chat)">
                {{userDisplayName(user)}} ({{user.userId}})
            </div>
        </div>
    </ng-template>
</div>